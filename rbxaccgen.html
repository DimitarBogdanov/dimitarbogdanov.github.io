<!-- sorry for the shit code lol did this in like 30 min -->
<html>

<head>
    <title>Roblox Account Generator</title>
    <style>
        .border {
            border: 1px solid black;
            margin: 5px;
        }
        
        .container {
            border: 1px solid black;
            width: 80%;
        }
    </style>
</head>

<body>
    <h1>Roblox Account Generator</h1>
    <hr>
    <h3>Click the button below to get a random account.</h3>
    <h5>Note: this might not work at all. Keep trying until it works!</h5>
    <button id="gen" onclick="getAccount()">Generate</button>
    <br>
    <div id="__template__" style="display: none;">
        <table class="border">
            <thead>
                <tr class="border">
                    <th colspan="2">Account generator result</th>
                </tr>
            </thead>
            <tbody>
                <tr class="border">
                    <td class="border">Username</td>
                    <td class="border"><textarea name="user" rows=1 readonly style="resize: none;"></textarea></td>
                </tr>
                <tr class="border">
                    <td class="border">Password</td>
                    <td class="border"><textarea name="pass" rows=1 readonly style="resize: none;"></textarea></td>
                </tr>
                <tr class="border">
                    <td class="border" colspan=2>
                        <center><button onclick="remove(this);">Remove</button></center>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <center>
        <div id="cnt" class="container" style="display: inline-block;">

        </div>
    </center>

    <script>
        var members = 2000; // rough estimate
        var previous = [];
        var ogCursor = "183218487_1_4adb212a2885b09fd96ab6e167ab9f3d"
        var nextCursor = ogCursor
        var debounce = false;

        const http = new XMLHttpRequest();
        http.open("GET", 'https://groups.roblox.com/v1/groups/2799647');
        http.send();

        http.onload = () => {
            members = JSON.parse(http.response).memberCount - 200;
        }

        function remove(el) {
            el.parentElement.parentElement.parentElement.parentElement.parentElement.remove();
        }

        function randomNumber(minimum, maximum) {
            return Math.round(Math.random() * (maximum - minimum) + minimum);
        }

        function getAccount() {
            //if (debounce) return;
            debounce = true;
            document.getElementById("gen").innerHTML = "Moment mal..."
            let url = 'https://groups.roblox.com/v1/groups/2799647/roles/18917235/users?cursor=' + nextCursor + '&limit=50&sortOrder=Desc'
            let req = new XMLHttpRequest();

            var user = null

            var skipPages = randomNumber(1, 10);
            var i = 0;
            req.onload = () => {
                var url = 'https://groups.roblox.com/v1/groups/2799647/roles/18917235/users?cursor=' + nextCursor + '&limit=50&sortOrder=Desc'

                var obj = JSON.parse(req.response)
                if (i > skipPages) {
                    let data = obj.data
                    let acc = data[randomNumber(0, 49)]

                    if (previous.includes(acc.username)) {
                        skipPages += 3;
                        req.open("GET", url);
                        req.send();
                    }

                    var match = acc.username.match(/[A-Z][a-z]+[A-Z][a-z]+\d\d/g);
                    if (match === null) {
                        skipPages += 3;
                        req.open("GET", url);
                        req.send();
                    }

                    if (acc.username.length !== match.length) {
                        skipPages += 3;
                        req.open("GET", url);
                        req.send();
                    }

                    showAccount(acc.username)
                    previous.push(acc.username);
                    document.getElementById("gen").innerHTML = "Generate"
                    debounce = false;
                    req = null;
                }

                nextCursor = obj.nextPageCursor
                if (nextCursor == null) nextCursor = ogCursor;
                url = 'https://groups.roblox.com/v1/groups/2799647/roles/18917235/users?cursor=' + nextCursor + '&limit=50&sortOrder=Desc'
                req.open("GET", url);
                req.send();
                i++
            }
            req.open("GET", url);
            req.send();
        }

        function getAccount2() {
            const results = 10;
            var startPage = 80;
            var maxPage = Math.floor((members / results) - startPage);
            var page = randomNumber(startPage, maxPage);
            var account = randomNumber(0, 9)
        }

        function showAccount(user) {
            let template = document.getElementById("__template__");
            let newEl = template.cloneNode(true);
            newEl.style.display = "inherit";
            newEl.querySelectorAll('[name=user]')[0].innerText = user
            newEl.querySelectorAll('[name=pass]')[0].innerText = user.split('').reverse().join('');
            document.getElementById("cnt").append(newEl)
        }

        function generate() {
            if (debounce === true) return;
            document.getElementById("gen").innerHTML = "Moment mal..."
            debounce = true;

            while (true) {
                let acc = getAccount();


                showAccount(acc);
                break;
            }
            debounce = false;
            document.getElementById("gen").innerHTML = "Generate"
        }
    </script>
</body>

</html>
